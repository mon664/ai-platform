(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[240],{63:(e,t,s)=>{"use strict";var a=s(7260);s.o(a,"useParams")&&s.d(t,{useParams:function(){return a.useParams}}),s.o(a,"usePathname")&&s.d(t,{usePathname:function(){return a.usePathname}})},5968:(e,t,s)=>{Promise.resolve().then(s.bind(s,8564))},7840:(e,t,s)=>{"use strict";s.d(t,{default:()=>o});var a=s(5155),l=s(2115),r=s(63),n=s(2619),i=s.n(n);function o(){var e;let t=(0,r.usePathname)(),[s,n]=(0,l.useState)(!1),o=[{id:"home",label:"\uD83C\uDFE0 홈",href:"/"},{id:"youtube",label:"\uD83C\uDFAC 유튜브",isActive:t.startsWith("/character")||t.startsWith("/tts")||t.startsWith("/shorts")||t.startsWith("/story"),subItems:[{id:"shorts",label:"\uD83C\uDFAC 쇼츠 생성기",href:"/shorts"},{id:"story",label:"\uD83D\uDCD6 스토리 생성기",href:"/story"},{id:"character",label:"\uD83D\uDC64 캐릭터 생성기",href:"/character"},{id:"tts",label:"\uD83C\uDFA4 음성 생성기",href:"/tts"}]},{id:"blog",label:"\uD83D\uDCDD 블로그",href:"/blog"}];(0,l.useEffect)(()=>{n(!1)},[t]);let c=o.find(e=>"youtube"===e.id);return(0,a.jsxs)("div",{className:"bg-gray-900/80 backdrop-blur-sm border-b border-gray-700/50 sticky top-0 z-50 transition-all duration-300",children:[(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,a.jsx)("div",{className:"flex justify-between items-center h-16",children:(0,a.jsx)("div",{className:"flex items-center",children:o.map(e=>e.subItems?(0,a.jsxs)("button",{onClick:()=>n(!s),className:"px-3 py-2 rounded-md text-sm font-semibold flex items-center transition-colors ".concat(e.isActive?"text-blue-400":"text-gray-300 hover:text-white"),children:[e.label,(0,a.jsx)("svg",{className:"w-4 h-4 ml-1.5 text-gray-500 transition-transform duration-300 ".concat(s?"transform rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})]},e.id):(0,a.jsx)(i(),{href:e.href,className:"px-3 py-2 rounded-md text-sm font-semibold transition-colors ".concat(t===e.href?"text-blue-400":"text-gray-300 hover:text-white"),children:e.label},e.id))})})}),(0,a.jsx)("div",{className:"transition-all duration-500 ease-in-out overflow-hidden ".concat(s?"max-h-96":"max-h-0"),children:(0,a.jsx)("div",{className:"bg-black/20 p-4",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto grid grid-cols-2 md:grid-cols-4 gap-4",children:null==c||null==(e=c.subItems)?void 0:e.map(e=>(0,a.jsx)(i(),{href:e.href,className:"block text-center px-4 py-3 text-sm rounded-lg transition-colors ".concat(t===e.href?"bg-blue-600 text-white":"bg-gray-700/50 hover:bg-gray-600/50 text-gray-200"),children:e.label},e.id))})})})]})}},8564:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n});var a=s(5155),l=s(2115),r=s(7840);function n(){let[e,t]=(0,l.useState)(null),[s,n]=(0,l.useState)(null),[i,o]=(0,l.useState)(""),[c,d]=(0,l.useState)(""),[h,u]=(0,l.useState)(8),[x,m]=(0,l.useState)("16:9"),[g,b]=(0,l.useState)(!1),[p,v]=(0,l.useState)(0),[j,f]=(0,l.useState)(""),[N,y]=(0,l.useState)([]),w=async()=>{if(!e||!i)return void alert("주인공 이미지와 스토리를 입력해주세요");b(!0),y([]),v(0),f("얼굴 분석 중...");let t=new FormData;t.append("protagonist",e),s&&t.append("partner",s),t.append("story",i),t.append("persona",c),t.append("sceneCount",h.toString()),t.append("aspectRatio",x);try{let e=await fetch("/api/generate",{method:"POST",body:t});if(f("장면 생성 중..."),v(10),!e.ok){let t=await e.text();console.error("API Error Response:",t);try{let e=JSON.parse(t);throw Error(e.error||e.message||t)}catch(s){throw Error(t||"Server error: ".concat(e.status))}}let s=await e.json();if(!s.scenes||0===s.scenes.length)throw Error("No scenes generated");let a=s.totalScenes||h,l=[];for(let e=0;e<s.scenes.length;e++){l.push(s.scenes[e]);let t=Math.round((e+1)/a*90)+10;v(t),f("".concat(e+1,"/").concat(a," 장면 생성 완료")),y([...l]),await new Promise(e=>setTimeout(e,50))}v(100),f("완료!"),setTimeout(()=>{v(0),f("")},2e3)}catch(e){console.error("Generation error:",e),alert("생성 실패: "+e.message)}finally{b(!1)}};return(0,a.jsxs)("div",{className:"min-h-screen bg-gray-900 text-white",children:[(0,a.jsx)(r.default,{}),(0,a.jsx)("div",{className:"p-8",children:(0,a.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,a.jsx)("h1",{className:"text-4xl font-bold mb-8",children:"\uD83C\uDFAC AI 스토리 장면 생성기"}),(0,a.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 mb-6",children:[(0,a.jsx)("h2",{className:"text-2xl mb-4",children:"1. 캐릭터 업로드"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block mb-2",children:"주인공"}),(0,a.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{var s;return t((null==(s=e.target.files)?void 0:s[0])||null)},className:"w-full p-2 bg-gray-700 rounded"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block mb-2",children:"상대역 (선택)"}),(0,a.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{var t;return n((null==(t=e.target.files)?void 0:t[0])||null)},className:"w-full p-2 bg-gray-700 rounded"})]})]})]}),(0,a.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 mb-6",children:[(0,a.jsx)("h2",{className:"text-2xl mb-4",children:"2. 스토리 작성"}),(0,a.jsx)("textarea",{value:i,onChange:e=>o(e.target.value),placeholder:"스토리를 입력하세요...",maxLength:1e3,className:"w-full h-32 p-4 bg-gray-700 rounded resize-none"}),(0,a.jsxs)("p",{className:"text-sm text-gray-400 mt-2",children:[i.length," / 1000"]})]}),(0,a.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 mb-6",children:[(0,a.jsx)("h2",{className:"text-2xl mb-4",children:"3. AI 페르소나 (선택)"}),(0,a.jsx)("textarea",{value:c,onChange:e=>d(e.target.value),placeholder:"AI 스토리텔러의 페르소나를 입력하세요...",maxLength:500,className:"w-full h-24 p-4 bg-gray-700 rounded resize-none"})]}),(0,a.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 mb-6",children:[(0,a.jsx)("h2",{className:"text-2xl mb-4",children:"4. 설정"}),(0,a.jsx)("label",{className:"block mb-2",children:"장면 수:"}),(0,a.jsxs)("select",{value:h,onChange:e=>u(Number(e.target.value)),className:"w-full p-2 bg-gray-700 rounded mb-4",children:[(0,a.jsx)("option",{value:8,children:"8 장면"}),(0,a.jsx)("option",{value:12,children:"12 장면"}),(0,a.jsx)("option",{value:16,children:"16 장면"})]}),(0,a.jsx)("label",{className:"block mb-2",children:"사진 비율:"}),(0,a.jsxs)("select",{value:x,onChange:e=>m(e.target.value),className:"w-full p-2 bg-gray-700 rounded",children:[(0,a.jsx)("option",{value:"16:9",children:"16:9 (가로형 - 영화, 유튜브)"}),(0,a.jsx)("option",{value:"9:16",children:"9:16 (세로형 - 릴스, 쇼츠)"}),(0,a.jsx)("option",{value:"1:1",children:"1:1 (정사각형 - 인스타그램)"}),(0,a.jsx)("option",{value:"4:3",children:"4:3 (가로형 - 클래식)"}),(0,a.jsx)("option",{value:"3:4",children:"3:4 (세로형 - 포트레이트)"})]})]}),(0,a.jsx)("button",{onClick:w,disabled:g,className:"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-gray-600 text-white font-bold py-4 rounded-lg text-xl transition",children:g?j||"생성 중...":"장면 생성하기"}),g&&(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsx)("div",{className:"w-full bg-gray-700 rounded-full h-4 overflow-hidden",children:(0,a.jsx)("div",{className:"bg-blue-600 h-4 transition-all duration-300 ease-out flex items-center justify-center text-xs text-white font-semibold",style:{width:"".concat(p,"%")},children:p>0&&"".concat(p,"%")})}),(0,a.jsx)("p",{className:"text-center text-sm text-gray-400 mt-2",children:j})]}),N.length>0&&(0,a.jsxs)("div",{className:"mt-8 bg-gray-800 rounded-lg p-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,a.jsxs)("h2",{className:"text-2xl",children:["생성된 장면 (",N.length,"개)"]}),(0,a.jsx)("button",{onClick:()=>{y([]),b(!1)},className:"bg-gray-700 hover:bg-gray-600 px-4 py-2 rounded text-sm",children:"다시 생성하기"})]}),(0,a.jsx)("div",{className:"grid grid-cols-2 gap-4",children:N.map((e,t)=>(0,a.jsxs)("div",{className:"relative group",children:[(0,a.jsx)("img",{src:e,alt:"Scene ".concat(t+1),className:"rounded w-full"}),(0,a.jsx)("a",{href:e,download:"scene-".concat(t+1,".png"),className:"absolute bottom-2 right-2 bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded text-sm opacity-0 group-hover:opacity-100 transition",children:"다운로드"})]},t))})]})]})})]})}}},e=>{e.O(0,[619,441,255,358],()=>e(e.s=5968)),_N_E=e.O()}]);